<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
</head>
<body>
    <script>
       let persons = {
           "moussa" : {
               name : 'Moussa', 
               job : 'developer', 
               'technologies' : ['html', 'css', 'javascript','php'],
               cost : 600,
               experience : 5
            },
            "khalid" : {
                name : 'Khalid', 
                job : 'developer', 
                'technologies' : ['php', 'nodejs', 'java'],
                cost : 800,
                experience : 8
            },
            "maha" : {
                name : 'Maha', 
                job : 'developer', 
                'technologies' : ['php', 'angular', 'java', 'javascript'],
                cost : 500,
                experience : 2
            },
       };
       // Trouver le meilleur candidat pour un projet nodeJS
       // Trouver le meilleur candidat pour un projet Javascript
       // Trouver le meilleur candidat pour un projet PHP sachant que exp 5 mettrait 35 jours (21000), exp 8 mettrait 20 jours (16000) et exp 2 mettrait 50 jours (25000).

       let candidates = Object.keys(persons);
       console.log(candidates);

       // Trouver le meilleur candidat pour un projet nodeJS
       for(let i = 0 ; i < candidates.length ; i++){
           if(persons[candidates[i]].technologies.includes('nodejs')){
               console.log(`${candidates[i]} = OK pour nodejs`);
           }
       }

       // Trouver le meilleur candidat pour un projet Javascript
       let bestCandidateCost = 0;
       let bestCandidate = null;
       for(let i = 0 ; i < candidates.length ; i++){
           if(persons[candidates[i]].technologies.includes('javascript')){
            if(i===0){
                bestCandidateCost = persons[candidates[0]].cost;
                bestCandidate = persons[candidates[0]].name;
            }
            if(persons[candidates[i]].cost < bestCandidateCost){
                bestCandidateCost = persons[candidates[i]].cost;
                bestCandidate = persons[candidates[i]].name;
            }
           }
       }
       console.log(`Le meilleur candidat pour JavaScript est ${bestCandidate}`);

        // Trouver le meilleur candidat pour un projet PHP sachant que exp 5 mettrait 35 jours (21000), exp 8 mettrait 20 jours (16000) et exp 2 mettrait 50 jours (25000).
        let developers = [];
        let bestTotalCost = 0;
        let totalCost = 0;
        let totalCosts = [];
        let candidateObject = {};
        let candidateName = null


        Object.keys(persons).forEach(id => {
            if(persons[id].technologies.includes('php')){
                developers.push(persons[id]);
            }
        })

        console.log('developers ===========> ', developers);
        for(let i = 0; i < developers.length; i++){
            if(persons[candidates[i]].experience === 5){
                totalCost = persons[candidates[i]].cost*35;
                candidateName = developers[i].name;
                console.log('Total Cost 5 =========> ',totalCost)
                console.log('candidateName 5 =========>', candidateName)
                candidateObject = { candidateName : totalCost};
            }
            if(persons[candidates[i]].experience === 8){
                totalCost = persons[candidates[i]].cost*20;
                candidateName = developers[i].name;
                console.log('Total Cost 8 =========> ',totalCost)
                candidateObject = {candidateName : totalCost};
            }
            if(persons[candidates[i]].experience === 2){
                totalCost = persons[candidates[i]].cost*50;
                candidateName = developers[i].name;
                console.log('Total Cost 2 =========> ',totalCost)
                candidateObject = {candidateName : totalCost};
            }
            totalCosts.push(candidateObject);
        }

        
        
        console.log(totalCosts);


    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Correction</title>
</head>
<body>
    <script>
        let persons = {
           "moussa" : {
               name : 'Moussa', 
               job : 'developer', 
               'technologies' : ['html', 'css', 'javascript','php'],
               cost : 600,
               experience : 5
            },
            "khalid" : {
                name : 'Khalid', 
                job : 'developer', 
                'technologies' : ['php', 'nodejs', 'java'],
                cost : 800,
                experience : 8
            },
            "maha" : {
                name : 'Maha', 
                job : 'developer', 
                'technologies' : ['php', 'angular', 'java', 'javascript'],
                cost : 500,
                experience : 2
            },
       };
       
       // Trouver le meilleur candidat pour un projet Javascript
       let candidates = Object.keys(persons);
       console.log(candidates);

       let getBestCandidate = (technology) => {
           let developers = [];
           let bestCandidateCost = 0;
           let bestCandidate = null;
           let totalCost = 0;

           Object.keys(persons).forEach(id => {
               if(persons[id].technologies.includes(technology)){
                   developers.push(persons[id]);
                   let numberOfDays = 0;
               }
           })

           developers.forEach((developer, iteration)=>{
               if(iteration === 0){
                //    switch (developer.experience) {
                //        case 5 :
                //            totalCost = developer.cost*35
                //            break;
                //         case 8 :
                //            totalCost = developer.cost*20
                //            break;
                //         case 2 :
                //            totalCost = developer.cost*50
                //            break;
                //        default:
                //            console.error('Wrong experience');
                //            break;
                //    }
                   bestCandidateCost = developers[0].cost;
                   bestCandidate = developer;
               }
               if(developer.cost < bestCandidateCost){
                   bestCandidateCost = developers[iteration].cost;
                   bestCandidate = developer;
               }
           });
           console.log(bestCandidate);
       }

       getBestCandidate('javascript');
    </script>
</body>
</html>